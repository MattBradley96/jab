The doctests module
===================

This script handles collections of files used for doctests
	>>> import doctests

	>>> import files

Here's one I made earlier
	>>> earlier_name = 'made_earlier.test'
	>>> files.write_failing_test(earlier_name)

Which looks like this
	>>> files.looks_like_this(earlier_name)
	 0: Test Me
	 1: =======
	 2: 	>>> print 1
	 3: 	>>> print 2
	 4: 	3
	 5: 	>>> print 1 / 0
	 6: 	>>> print 0

Run that test through doctest to generate some failures
	>>> files.test_file(earlier_name)
	True

Parse the files
	>>> test_file, tests_file, fail_file = doctests.parse_files('made_earlier')
	>>> spread(test_file)
	<test_file.TestFile
		path_to_file : 'made_earlier.test'
		source : 'Test Me\n=======\n\t>>> print 1\n\t>>> print 2\n\t3\n\t>>> print 1 / 0\n\t>>> print 0\n'
		sections : [<Section Test Me>]
		examples : [<Example print 1>,
		 <Example print 2>,
		 <Example print 1 / 0>,
		 <Example print 0>]
	>
	>>> spread(test_file.examples[0])
	<test_file.Example
		python : ['print 1']
		text : ''
		expected : []
	>

We call the fix method for the fail file
	>>> doctests.fix_file(test_file, fail_file)

And that should update the test file
	so that it now has passing tests
	>>> files.looks_like_this('made_earlier.test')
	 0: Test Me
	 1: =======
	 2: 	>>> print 1
	 3: 	1
	 4: 	>>> print 2
	 5: 	2
	 6: 	>>> print 1 / 0
	 7: 	Traceback (most recent call last):
	 8: 	...
	 9: 	ZeroDivisionError: integer division or modulo by zero
	10: 	>>> print 0
	11: 	0

Re-test the file, should produce no failures
	>>> files.test_file(earlier_name)
	True

	>>> files.looks_like_this('made_earlier.fail')

And we can parse out the changes in the text file
	>>> test_file, tests_file, fail_file = doctests.parse_files('made_earlier')
	>>> spread(test_file.examples[0])
	<test_file.Example
		python : ['print 1']
		text : ''
		expected : ['1']
	>

Clean up
--------

The fix_file() method wrote out a backup file
	>>> _ = bash('mv made_earlier.test~ made_earlier.test')
