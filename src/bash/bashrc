#! /bin/bash -x

[[ -n $WELCOME_BYE ]] && echo Welcome to ~ on $(hostname -f)

_set_path () {
    LOCAL=/usr/local
    [[ -d $LOCAL/gnu ]] && LOCALS="$LOCAL/gnu:$LOCAL/bin" || LOCALS="$LOCAL/bin"
    BINS=/usr/bin:/bin:/usr/sbin:/sbin
    HOMES=$HOME/bin:$HOME/.local
    export PATH=$LOCALS:$BINS:$HOMES
    [[ -d $LOCAL/go/bin ]] && PATH=$PATH:$LOCAL/go/bin
}

_bashrc () {
    WELCOME_BYE=
    source ~/jab/__init__.sh
    WELCOME_BYE=
    cd ~/jab
    export PS1="\$? [\u@\h:\$PWD]\n$ "
    sp
}

vbb () {
    (cd ~/jab
    vim -p ~/.bashrc ~/jab/__init__.sh ~/bashrc.log "$@" +/bash
    ls -l ~/.bashrc ~/jab/__init__.sh ~/bashrc.log)
}

main () {
    _set_path
    _bashrc
}

# echo bashrc
# set -x
[[ $- =~ i ]] && main
# set +x
[[ -n $WELCOME_BYE ]] && echo Bye from ~
