#! /bin/bash

# Script exists to specify a TERM setting for PUDB

set -e

_find_python () {
    MY_PATH=$JAB/bin:$HOME/bin:/usr/local/bin:/usr/bin
    [[ -n $VIRTUAL_ENV ]] && MY_PATH=$VIRTUAL_ENV/bin:$MY_PATH
    PYTHON_TWO_SEVEN=$(PATH=$MY_PATH which python2.7 2>/dev/null)
    [[ -x $PYTHON_TWO_SEVEN ]] || exit 1
}

main () {
    export TERM=xterm-256color
    PATH=$HOME/.local/bin:/usr/local/bin:/usr/bin:/bin $PYTHON_TWO_SEVEN pudb "$@"
}

_find_python
main "$@"
