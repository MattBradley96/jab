#! /bin/bash

check_jab () {
    if [[ ! -f "~/jab/etc/ackrc" ]]; then
        echo ~/jab/etc/ackrc is not a file >&2
        return 1
    fi
    return 0
}

link () {
    destination="$1"
    source="$2"
    [[ -e "$destination" ]] && rm -rf "$destination"
    ln -s ~/jab/"$source" $HOME/"$destination"
}

main () {
    cd $HOME
    link .ackrc            etc/ackrc
    link .dir_colors       etc/dir_colors
    link .editrc           etc/editrc
    link .gitignore_global etc/gitignore_global
    link .gvimrc           vim/gvimrc
    link .inputrc          etc/inputrc
    link .ipython          ipython/
    link .pylintrc         etc/pylintrc
    link .pythonrc.py      src/python/pythonrc.py
    link .sackrc           etc/sackrc
    link .tmux.conf        etc/tmux
    link .vim              vim
    link .vimpagerrc       vim/vimpagerrc
    link .vimrc            vim/vimrc
    link .xonshrc          etc/xonshrc
}

check_jab && main
