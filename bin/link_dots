#! /bin/bash

_check_jab () {
    if [[ ! -f ~/jab/etc/ackrc ]]; then
        echo ~/jab/etc/ackrc is not a file >&2
        return 1
    fi
    return 0
}

_link () {
    source=$1
    destination=$2
    [[ -e $destination || -L $destination ]] && rm -rf $destination
    ln -s ~/jab/$source $HOME/$destination
}

main () {
    cd $HOME
    _link etc/ackrc			.ackrc
    _link etc/dir_colors			.dir_colors
    _link etc/editrc			.editrc
    _link etc/gitignore_global		.gitignore_global
    _link vim/gvimrc			.gvimrc
    _link etc/inputrc			.inputrc
    _link ipython/			.ipython
    _link etc/pylintrc			.pylintrc
    _link src/python/pythonrc.py		.pythonrc.py
    _link etc/sackrc			.sackrc
    _link etc/tmux			.tmux.conf
    _link vim				.vim
    _link vim/vimpagerrc 		.vimpagerrc
    _link vim/vimrc	  		.vimrc
    _link etc/xonshrc			.xonshrc
}

_check_jab && main
