#! /bin/sh

JAB=$HOME/.jab

export COLUMNS

export EXITSTATUS="$?"
export FIGNORE=.pyc:.swp:~:.o

#export DISPLAY=:0

export HISTSIZE=100000

export XAUTHORITY=$HOME/.Xauthority

if ls -@ >/dev/null 2>&1 
then
	# the ls option for colour is "-@" on my macbook
	export LS_COLOUR_OPTION='-@'
else
	export LS_COLOUR_OPTION='--color=auto'
fi

add_to_path ()
{
	if [[ -n "$1" && -d "$1" ]]
	then
		if ! echo $PATH | grep -q "$1"
		then
			export PATH=${PATH}:$1
		fi
	fi
}
export PATH=/bin:/usr/bin:/usr/local/bin:
add_to_path $JAB/bin
add_to_path ~/bin
add_to_path ~/git/bin
add_to_path ~/python25/bin
add_to_path /opt/local/bin
add_to_path /sbin

export PS1

#
# Path dependencies
#

# Altobridge repositories
if [ -d /amg ]
then
	export AMG=file:///amg
	export LCP=file:///usr/local/svn/lcp
	export JABS=file:///usr/local/abrogan/jabs
else
	export AMG=svn+ssh://ie-track-1/amg
	export LCP=http://intranet.altobridge.com/svn/lcp
	export JABS=http://intranet.altobridge.com/jab
fi
#
# Working directories
#
if [ -d /mnt/source ]
then
	export SOURCE=/mnt/source
	export AMG_SOURCE=/mnt/source/amg
elif [ -d $SITE/altobridge ]
then
	export SOURCE=$SITE/altobridge
else
	export SOURCE=~/.jab
fi
if [ -d /usr/local/trunk ]
then
	export AMG_TRUNK=/usr/local/trunk
elif [[ -n "$AMG_SOURCE" && -d "$AMG_SOURCE" ]]
then
	export AMG_TRUNK=$AMG_SOURCE/trunk
else
	export AMG_TRUNK=
fi
if [ -d $AMG_TRUNK ]
then
	export AMG_BUILDS=${AMG_SOURCE}/builds
	export AMG_RELEASES=${AMG_SOURCE}/releases
	export AMG_DISTRIBUTION=${AMG_SOURCE}/distribution
	export AMG_IT=${AMG_SOURCE}/IT
fi

export LCP_SOURCE=$SOURCE/lcp
export NSN_SOURCE=$LCP_SOURCE/nsn
export NSN_BUILDS=${NSN_SOURCE}/builds
export NSN_RELEASES=${NSN_SOURCE}/releases

export RELEASES=/mnt/releases
export BUILDING=${RELEASES}/building
export BUILD_DEBUG=${RELEASES}/building/debug
export NOTES=${RELEASES}/building/notes

if [ -x /opt/local/bin/gwhich ]
then
	export WHICH=/opt/local/bin/gwhich
else
	export WHICH=/usr/bin/which
fi
export EDITOR=`$WHICH vim`

#
# colours
#
export          NO_COLOUR="\[\033[0m\]"
export                FOO="\[\033[0;31m\]"
export          LIGHT_RED="\[\033[1;31m\]"
export              GREEN="\[\033[0;32m\]"
export        LIGHT_GREEN="\[\033[1;32m\]"
export              BROWN="\[\033[0;33m\]"
export             YELLOW="\[\033[1;33m\]"
export               BLUE="\[\033[0;34m\]"
export         LIGHT_BLUE="\[\033[1;34m\]"
export            MAGENTA="\[\033[0;35m\]"
export      LIGHT_MAGENTA="\[\033[1;35m\]"
export               CYAN="\[\033[0;36m\]"
export         LIGHT_CYAN="\[\033[1;36m\]"
export              WHITE="\[\033[1;37m\]"
export         LIGHT_GRAY="\[\033[0;37m\]"
export                RED="\[\033[1;38m\]"
export            RED_TOO="\[\033[0;38m\]"
export                SED="\[\033[1;39m\]"
export            SED_TOO="\[\033[0;39m\]"
export     PROMPT_NO_COLOUR="\033[0m"
export           PROMPT_FOO="\033[0;31m"
export     PROMPT_LIGHT_RED="\033[1;31m"
export         PROMPT_GREEN="\033[0;32m"
export   PROMPT_LIGHT_GREEN="\033[1;32m"
export         PROMPT_BROWN="\033[0;33m"
export        PROMPT_YELLOW="\033[1;33m"
export          PROMPT_BLUE="\033[0;34m"
export    PROMPT_LIGHT_BLUE="\033[1;34m"
export       PROMPT_MAGENTA="\033[1;35m"
export PROMPT_LIGHT_MAGENTA="\033[0;35m"
export          PROMPT_CYAN="\033[0;36m"
export    PROMPT_LIGHT_CYAN="\033[1;36m"
export         PROMPT_WHITE="\033[1;37m"
export    PROMPT_LIGHT_GRAY="\033[0;37m"
export           PROMPT_RED="\033[1;38m"
export       PROMPT_RED_TOO="\033[0;38m"
